(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{377:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"parse-document"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parse-document"}},[t._v("#")]),t._v(" Parse Document")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("code",[t._v("@time 2020/10/12")])]),t._v(" "),a("p",[a("code",[t._v("@env")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("browser")]),t._v(" "),a("th",[t._v("version")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("chrome")]),t._v(" "),a("td",[t._v("v85.0.4183.121")])]),t._v(" "),a("tr",[a("td",[t._v("safari")]),t._v(" "),a("td",[t._v("v14610.1.28.1.9")])]),t._v(" "),a("tr",[a("td",[t._v("firefox")]),t._v(" "),a("td",[t._v("v81.0.1")])])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("æœ¬æ–‡ä¸»è¦ä»‹ç»æµè§ˆå™¨æ˜¯å¦‚ä½•è§£ææ–‡æ¡£çš„("),a("code",[t._v("DOMTree")]),t._v(", "),a("code",[t._v("CSSTree")]),t._v(", "),a("code",[t._v("RenderTree")]),t._v(")")]),t._v(" "),a("p",[t._v("æœ¬æ–‡ä»å®è·µå‡ºå‘ (éæµè§ˆå™¨UIå¼•æ“çš„åŸç†("),a("code",[t._v("RenderLayout")]),t._v("), å¦‚æœå¯¹å…¶æ„Ÿå…´è¶£å¯ä»¥ğŸ‘€ã€ŠwebkitæŠ€æœ¯å†…å¹•ã€‹), æœŸæœ›ç”¨é€»è¾‘è§£é‡Šæµè§ˆå™¨ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåš")]),t._v(" "),a("h2",{attrs:{id:"timeline"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#timeline"}},[t._v("#")]),t._v(" Timeline")]),t._v(" "),a("ol",[a("li",[t._v("TCPå°†æ’åºå¥½çš„å­—èŠ‚æµæ•°æ®åŒ…è½¬æ¢æˆå­—ç¬¦æµè¾“å…¥æµè§ˆå™¨(æµ)")]),t._v(" "),a("li",[t._v("åˆå§‹åŒ–"),a("code",[t._v("document")]),t._v(", æ­¤æ—¶"),a("code",[t._v("document.readyState === 'loading'")])]),t._v(" "),a("li",[t._v("è§£æå­—ç¬¦æµæ•°æ®, ä¾æ®"),a("code",[t._v("<>")]),t._v("ç”Ÿæˆ"),a("code",[t._v("Token")]),t._v("èŠ‚ç‚¹")]),t._v(" "),a("li",[t._v("æ ¹æ®"),a("code",[t._v("Token")]),t._v("èŠ‚ç‚¹, é€æ¸ç”Ÿæˆ"),a("strong",[t._v("DOMTree")])]),t._v(" "),a("li",[t._v("æŸäº›å¼•å…¥å¤–éƒ¨èµ„æºçš„"),a("code",[t._v("Token")]),t._v(", åˆ›å»ºå…¶ä»–çº¿ç¨‹åŠ è½½èµ„æº(ä¸uiçº¿ç¨‹å¼‚æ­¥)")]),t._v(" "),a("li",[t._v("æŸäº›ç‰¹æ®Šçš„"),a("code",[t._v("Token")]),t._v("ä¼šå½±å“uiçº¿ç¨‹\n"),a("ul",[a("li",[a("code",[t._v("<link>")]),t._v(", å¼€å§‹æ„å»º"),a("strong",[t._v("CSSTree")]),t._v(", ç»§ç»­è§£æ"),a("code",[t._v("document")]),t._v("å®Œå–„"),a("strong",[t._v("DOMTree")]),t._v(", é˜»å¡é¡µé¢"),a("strong",[t._v("render")])]),t._v(" "),a("li",[a("code",[t._v("<script>")]),t._v(", åœæ­¢è§£æ"),a("code",[t._v("document")]),t._v("çš„è§£æå’Œ"),a("strong",[t._v("DOMTree")]),t._v("çš„æ„å»º, é˜»å¡é¡µé¢"),a("strong",[t._v("render")]),t._v(", å¾…"),a("code",[t._v("javascript")]),t._v("åŠ è½½å¹¶ä¸”æ‰§è¡Œå®Œåç»§ç»­è§£æ"),a("code",[t._v("document")]),t._v(", æ„å»º"),a("strong",[t._v("DOMTree")])]),t._v(" "),a("li",[a("code",[t._v("<script defer>")]),t._v("æˆ–"),a("code",[t._v("<script async>")]),t._v(", å³ä¸é˜»å¡è§£æ"),a("code",[t._v("document")]),t._v("è§£æ, ä¹Ÿä¸é˜»å¡é¡µé¢"),a("strong",[t._v("render")]),t._v(", å¼‚æ­¥åŠ è½½"),a("code",[t._v("javascript")])])])]),t._v(" "),a("li",[a("code",[t._v("document")]),t._v("è§£æå®Œæˆ, æ­¤æ—¶"),a("code",[t._v("document.readyState === 'interactive'")])]),t._v(" "),a("li",[t._v("å¦‚æœå­˜åœ¨"),a("code",[t._v("<script defer>")]),t._v("å¾…å…¶æ‰§è¡Œå®Œæ¯•åè§¦å‘"),a("code",[t._v("DOMContentLoaded")]),t._v("äº‹ä»¶, æ­¤æ—¶è¿›å…¥äº‹ä»¶é©±åŠ¨é˜¶æ®µ, å¯ä»¥å“åº”ç”¨æˆ·æ“ä½œ")]),t._v(" "),a("li",[t._v("å½“æ‰€æœ‰å¤–éƒ¨èµ„æºåŠ è½½å®Œæˆå("),a("code",[t._v("<img>")]),t._v(", "),a("code",[t._v("<script async>")]),t._v(", "),a("code",[t._v("<video>")]),t._v("...)è§¦å‘"),a("code",[t._v("window.onload")]),t._v(", æ­¤æ—¶"),a("code",[t._v("document.readyState === 'complete'")])]),t._v(" "),a("li",[a("strong",[t._v("parse document")]),t._v("å®Œæˆ")])]),t._v(" "),a("h2",{attrs:{id:"å¹¶å‘åŠ è½½èµ„æº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘åŠ è½½èµ„æº"}},[t._v("#")]),t._v(" å¹¶å‘åŠ è½½èµ„æº")]),t._v(" "),a("p",[t._v("æµè§ˆå™¨åœ¨åŠ è½½èµ„æºçš„æ—¶å€™é‡‡ç”¨çš„æ˜¯å¹¶å‘ç­–ç•¥, ä½†æ˜¯å…¶åœ¨"),a("strong",[t._v("åŸŸå")]),t._v("ç»´åº¦é™åˆ¶äº†å¹¶å‘åº¦")]),t._v(" "),a("p",[t._v("ä»¥"),a("strong",[t._v("Chrome")]),t._v("ä¸ºğŸŒ°, å¯¹åŒä¸€ä¸ªåŸŸåçš„å¹¶å‘åº¦ä¸º6, å³: åŒä¸€ä¸ªåŸŸåæœ€å¤šå­˜åœ¨6ä¸ªTCPé“¾æ¥")]),t._v(" "),a("p",[a("img",{attrs:{src:"/imgs/parse_document/http1.1_tcp.png",alt:"http1.1 tcp"}})]),t._v(" "),a("h3",{attrs:{id:"http-1-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-1-1"}},[t._v("#")]),t._v(" HTTP/1.1")]),t._v(" "),a("p",[t._v("æ‰€ä»¥åœ¨"),a("strong",[t._v("HTTP/1.1")]),t._v("åè®®ä¸‹, æˆ‘ä»¬éœ€è¦åš"),a("strong",[t._v("åŸŸååˆ‡ç‰‡")]),t._v(": å¯¹äºä¸€äº›åƒå›¾ç‰‡ç­‰çš„èµ„æºä½¿ç”¨å¦å¤–çš„åŸŸå, é˜²æ­¢ç”±äºå¹¶å‘åº¦çš„é™åˆ¶, å»¶è¿Ÿäº†å¤–éƒ¨"),a("strong",[t._v("javascript")]),t._v("è„šæœ¬çš„åŠ è½½, é¡µé¢æ‰“å¼€å˜æ…¢")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("è™½ç„¶"),a("strong",[t._v("HTTP/1.1")]),t._v("åè®®æå‡ºäº†"),a("code",[t._v("keep-alive")]),t._v("(å¤šä¸ªHTTPå¤ç”¨ä¸€ä¸ªTCP), ä½†æ˜¯å…¶ä¸å…è®¸åŒæ—¶å‘é€å¤šä¸ªHTTPè¯·æ±‚")]),t._v(" "),a("p",[t._v("å³: å¦‚æœå½“å‰TCPå¥—æ¥å­—æ­£åœ¨ä¼ è¾“æˆ–æ¥å—æ•°æ®æ—¶, ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„TCPå¥—æ¥å­—, åªæœ‰å½“å‰TCPå¥—æ¥å­—ç©ºé—²æ—¶æ‰èƒ½å‘é€æ–°çš„HTTP, å¯ä»¥ç†è§£ä¸ºå•ä¸ªTCPå¥—æ¥å­—æ˜¯ä¸²è¡Œçš„")]),t._v(" "),a("p",[t._v("è¿™æ˜¯ç”±äºHTTPæŠ¥æ–‡ä¾èµ–TCPæ•°æ®åŒ…çš„é¡ºåºç»„è£…")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("è™½ç„¶HTTP1.1æœ‰æå‡º"),a("code",[t._v("pipelining")]),t._v("æ”¹å˜, ä½†æ˜¯å®ƒå¹¶æ²¡æœ‰å¾ˆå¥½çš„è¢«æ”¯æŒ")]),t._v(" "),a("h3",{attrs:{id:"http2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http2"}},[t._v("#")]),t._v(" HTTP2")]),t._v(" "),a("p",[t._v("å¦‚æœä½ çš„æœåŠ¡æ”¯æŒäº†"),a("strong",[t._v("HTTP2")]),t._v(", å¯¹äº"),a("strong",[t._v("HTTP2")]),t._v("çš„è¯·æ±‚æˆ‘ä»¬å°±ä¸éœ€è¦åš"),a("strong",[t._v("åŸŸååˆ†ç‰‡")]),t._v(", è¿™æ˜¯ç”±äºå…¶"),a("strong",[t._v("å¤šè·¯å¤ç”¨")]),t._v("æœºåˆ¶å¯¼è‡´çš„, åœ¨åº”ç”¨å±‚å¯¹å¤šä¸ª"),a("strong",[t._v("stream")]),t._v("å¤šäº†æ ‡è¯†")]),t._v(" "),a("p",[a("img",{attrs:{src:"/imgs/parse_document/http2_tcp.png",alt:"http2 tcp"}})]),t._v(" "),a("p",[t._v("å¯ä»¥çœ‹åˆ°è¿™9ä¸ªè¯·æ±‚åŒæ—¶å¹¶å‘")]),t._v(" "),a("h3",{attrs:{id:"more"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#more"}},[t._v("#")]),t._v(" More")]),t._v(" "),a("p",[t._v("åœ¨"),a("strong",[t._v("HTTP/1.1")]),t._v("ä¸‹å› ä¸ºå¯¹åŒä¸€ä¸ªåŸŸåçš„è¯·æ±‚æ˜¯é‡‡ç”¨å¤šä¸ªTCPå¹¶å‘çš„, æ‰€ä»¥ä½ æ— æ³•ç¡®å®šä½ æ”¶åˆ°çš„å“åº”é¡ºåºæ˜¯å¦å’Œå‘å‡ºè¯·æ±‚çš„é¡ºåºæ˜¯ä¸€è‡´çš„(å¯èƒ½æ˜¯æœåŠ¡ç«¯å“åº”é¡ºåºä¹±åºæˆ–è€…æ”¶åˆ°å“åº”çš„é¡ºåºä¹±åº)")]),t._v(" "),a("p",[a("strong",[t._v("HTTP2")]),t._v("ä¹Ÿå­˜åœ¨è¿™ä¸ªé—®é¢˜, ä½†æ˜¯å…¶å¹¶ä¸æ˜¯ç”±äºå¤šä¸ªå¹¶å‘TCPå¯¼è‡´çš„, è€Œæ˜¯åœ¨HTTP2åè®®ä¸Šä¸Šå¹¶å‘çš„streamæµå¯¼è‡´çš„")]),t._v(" "),a("p",[t._v("ğŸŒ°:")]),t._v(" "),a("p",[t._v("æ¯”å¦‚ä¸€äº›è´­ç‰©æ“ä½œ, æœ‰çš„æ—¶å€™ä½ ä¼šå‘ç°ä½ æ˜æ˜ç‚¹äº†6ä¸‹, ä½†æ˜¯å´æ˜¾ç¤ºä½ ä¹°äº†5ä¸ª, ç”šè‡³èƒ½ğŸ‘€ ä»6-5çš„è¿‡æ¸¡, è¿™å¾ˆå¤§å¯èƒ½æ˜¯å› ä¸ºå¤šä¸ªTCPé“¾æ¥å¯¼è‡´çš„")]),t._v(" "),a("p",[t._v("è¿™æ—¶å€™å°±éœ€è¦"),a("strong",[t._v("é¡ºåºæ‰§è¡Œå¼‚æ­¥æ“ä½œ")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),a("p",[t._v("HTTPSå¹¶ä¸ä»£è¡¨ç€æ˜¯HTTP2")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜, ä½ å¯èƒ½éœ€è¦è¿™æ ·çš„å®ç°")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œåªæ˜¯ä¸€ä¸ªæ€è·¯ï¼Œå¦‚æœè¦åº”ç”¨åˆ°å®é™…çš„é¡¹ç›®ä¸­è¿˜éœ€è¦åŠ ä»¥å®Œå–„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestQueue")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("argvs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chain "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" queue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ret "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chain "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chain\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevRet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" current")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("current")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevRet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ºäº†ä¿è¯ä¸æ›´æ”¹è¯·æ±‚API, è¿™é‡Œéœ€è¦åšPromise APIçš„ç²˜åˆå‰‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestRet")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" queue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("queue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" queue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("argvs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestRet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("argvs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("simulationRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("responseTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    reject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rej")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    resolve "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    reject "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rej"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" responseTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" clickRequest "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("simulationRequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¨¡æ‹Ÿå¤šæ¬¡è¯·æ±‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clickRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clickRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clickRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clickRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3så - 3, 100")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4så - 4, 2, 1")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br")])]),a("p",[t._v("å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªdemo, "),a("a",{attrs:{href:"https://github.com/arkusa/demo/tree/main/http_response_disorder",target:"_blank",rel:"noopener noreferrer"}},[t._v("http_response_disorder"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"todo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[t._v("#")]),t._v(" Todo")]),t._v(" "),a("h3",{attrs:{id:"_2ç§ä¸åŒçš„è§£ææ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2ç§ä¸åŒçš„è§£ææ–¹å¼"}},[t._v("#")]),t._v(" 2ç§ä¸åŒçš„è§£ææ–¹å¼")]),t._v(" "),a("p",[t._v("æµè§ˆå™¨é‡‡ç”¨2ç§ç­–ç•¥å¯¹æ–‡æ¡£è§£æ")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("init document")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("innerHTML")])])])]),t._v(" "),a("p",[t._v("ç›®å‰å¯¹"),a("code",[t._v("innerHTML")]),t._v("çš„è§£ææ–¹å¼ä¸å¤Ÿäº†è§£, ä¸è¿‡èƒ½å¤Ÿç¡®å®šçš„æ˜¯")]),t._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<script src=\"a.js\"><\/script>'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ä¼šåŠ è½½a.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™æ˜¯å½“ç„¶çš„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å› ä¸ºå¯èƒ½éœ€è¦diff old(document.body.innerHTML)å’Œnew(document.body.innerHTML)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¥åˆ¤æ–­é‚£äº›æ˜¯éœ€è¦è¢«æ‰§è¡Œçš„è„šæœ¬")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦åˆ™å¯èƒ½å¯¼è‡´å·²ç»æ‰§è¡Œå®Œçš„è„šæœ¬é‡æ–°æ‰§è¡Œ")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("ç›®å‰åªäº†è§£åˆ°è¿™ç‚¹åŒºåˆ«")])])}),[],!1,null,null,null);s.default=e.exports}}]);