(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{399:function(s,t,a){"use strict";a.r(t);var e=a(42),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"git-push"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-push"}},[s._v("#")]),s._v(" git push")]),s._v(" "),a("p",[a("a",{attrs:{href:"/git/remotes/fetch"}},[s._v("fetch")]),s._v("和"),a("a",{attrs:{href:"/git/remotes/pull"}},[s._v("pull")]),s._v("分别介绍了如何从远端拉取和合并文件历史")]),s._v(" "),a("p",[s._v("那如何将本地的文件历史推送给远程呢?")]),s._v(" "),a("p",[a("code",[s._v("git push")]),s._v("命令就做了这样的事情")]),s._v(" "),a("h2",{attrs:{id:"git-push都做了什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-push都做了什么"}},[s._v("#")]),s._v(" git push都做了什么")]),s._v(" "),a("p",[a("code",[s._v("git push")]),s._v("做了3件事")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("将本地的objects/打包发送给远端")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("远端更新其objects/refs, 同时更新refs/heads下的索引")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("远端更新成功后, 跟新本地远端分支的镜像, 不存在则创建")])])])]),s._v(" "),a("p",[s._v("e.g.")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新object/*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新refs/heads/master文件内存储的`SHA-1`值为本地refs/heads/master的值")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("更新索引的过程, GIT期望采用"),a("code",[s._v("Fast Forward")]),s._v("的方式")]),s._v(" "),a("p",[s._v("即本地的相应"),a("code",[s._v("commit-SHA-1")]),s._v("通过索引"),a("code",[s._v("parent chain")]),s._v("能够索引到远端"),a("code",[s._v("commit-SHA-1")])]),s._v(" "),a("p",[s._v("一般不要使用"),a("code",[s._v("--force")]),s._v("强制其更新"),a("code",[s._v("commit-SHA-1")]),s._v(", 这是有害的这会导致提交历史的丢失")])]),s._v(" "),a("p",[s._v("下面是我的发布脚本(根据"),a("code",[s._v("vuepress")]),s._v("提供的进行写更改)")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs/.vuepress/dist/"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -a docs/.vuepress/dist/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -vE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^(\\.|\\.\\.|\\.git)$'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成静态文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入生成的文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"+%Y-%m-%d %H:%M:%S"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("msg")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs('),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${time}")]),s._v(')"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$msg")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('".git/"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${msg}")]),s._v('"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push https://github.com/* master:release\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("p",[s._v("因为在每次"),a("code",[s._v("run build")]),s._v("时"),a("code",[s._v("vuepress")]),s._v("都会删除"),a("code",[s._v("dist/")]),s._v("下的所有内容, 包括git仓库"),a("code",[s._v(".git")]),s._v(", 每次发布都丢掉了上次分布的提交信息, 使用"),a("code",[s._v("git push -f")]),s._v("来强制更改远程的提交历史")]),s._v(" "),a("p",[s._v("我希望记录下发布历史, 所以做了注释掉了"),a("code",[s._v("vuepress")]),s._v("中的"),a("code",[s._v("fs.emptyDir(this.outDir)")]),s._v(", 并对"),a("code",[s._v("shell")]),s._v("进行了更改, 从而保存了发布历史")]),s._v(" "),a("h2",{attrs:{id:"git-push的参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-push的参数"}},[s._v("#")]),s._v(" git push的参数")]),s._v(" "),a("p",[a("code",[s._v("git push [<repo=origin> [refspec]] [options]")])]),s._v(" "),a("p",[a("code",[s._v("git push")]),s._v("分为2种策略")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("不指定refspec")])])]),s._v(" "),a("p",[s._v("不指定"),a("strong",[s._v("refspec")]),s._v(" git基于默认配置进行推送, 详见: "),a("RouterLink",{attrs:{to:"/git/remotes/push.html#git-push的默认行为"}},[s._v("git push的默认行为")])],1),s._v(" "),a("p",[s._v("默认推送当前分支到其上游分支上, 且")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[s._v("指定refspec")])])]),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/git/remotes/fetch.html#refspec"}},[s._v("fetch")]),s._v("内介绍了一些关于"),a("code",[s._v("refspec")]),s._v("的内容, 后面会单独有一篇文章介绍"),a("code",[s._v("refspec")]),s._v(": todo")],1),s._v(" "),a("p",[s._v("只要知道"),a("code",[s._v("refspec")]),s._v("是一种引用格式, "),a("code",[s._v("+<src>:<dict>")])]),s._v(" "),a("p",[s._v("在push命令中")]),s._v(" "),a("p",[a("code",[s._v("<src>")]),s._v("表示本地GIT")]),s._v(" "),a("p",[a("code",[s._v("<dict>")]),s._v("表示远端")]),s._v(" "),a("p",[s._v("表示将本地"),a("code",[s._v("<src>")]),s._v("索引到的"),a("code",[s._v("commit-SHA-1")]),s._v("更新到远端"),a("code",[s._v("<dict>")]),s._v("上, 如果"),a("code",[s._v("<src>")]),s._v("和"),a("code",[s._v("<dict>")]),s._v("命令一致可以缩写")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("这里的master是master:master的缩写")])]),s._v(" "),a("li",[a("strong",[s._v("同时master:master又会被GIT展开为refs/heads/master(本地master的最新提交Hash):refs/heads/master(远端记录这个Hash的文件地址)")])]),s._v(" "),a("li",[a("strong",[s._v("如果远端refs/heads/master不存在则会被创建")])])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意 - 这样也是可以的")]),s._v(" "),a("p",[a("code",[s._v("git push origin commit-SHA-1:refs/heads/master")])]),s._v(" "),a("p",[s._v("随便找一个"),a("code",[s._v("commite-SHA-1")]),s._v("将其推送, 并将其内容写入到远端"),a("code",[s._v("refs/heads/master")]),s._v("下")])]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[a("code",[s._v("git push origin commit-SHA-1:master")])]),s._v(" "),a("p",[s._v("这样是不可以的, 这是因为GIT无法根据"),a("code",[s._v("commit-SHA-1")]),s._v("将"),a("code",[s._v("master")]),s._v("推断为"),a("code",[s._v("refs/heads/master")])])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("这样删除远程分支/创建本地分支")]),s._v(" "),a("p",[a("code",[s._v("git push origin :dev_1")])]),s._v(" "),a("p",[s._v("推送一个 空 的SHA-1到dev_1上相当于删除远端"),a("code",[s._v("dev_1")]),s._v("分支")]),s._v(" "),a("p",[a("code",[s._v("git fetch origin :dev_1")])]),s._v(" "),a("p",[s._v("根据当前分支创建了一个本地"),a("code",[s._v("dev_1")]),s._v("分支, 一种hack用法")])]),s._v(" "),a("h2",{attrs:{id:"git-push的默认行为"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-push的默认行为"}},[s._v("#")]),s._v(" git push的默认行为")]),s._v(" "),a("p",[s._v("如果单纯的使用"),a("code",[s._v("git push")]),s._v("不添加任何的"),a("code",[s._v("refspec")]),s._v(", 则其推送行为收到"),a("strong",[s._v("push.default")]),s._v("的控制")]),s._v(" "),a("p",[a("strong",[s._v("push.default")]),s._v("有以下5种可配置的行为")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("nothing")])])]),s._v(" "),a("p",[s._v("除非显示的指定"),a("code",[s._v("refspec")]),s._v("否则拒绝推送")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master:master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("current")])])]),s._v(" "),a("p",[s._v("推送当前分支到远端的同名分支, 如果不存在则创建")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  default "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" current\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前分支dev")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 相当于")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("upstream")])])]),s._v(" "),a("p",[s._v("推送当前分支到其上游分支上")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("branch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dev_1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  remote "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" origin\n  merge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" refs/heads/upstream_dev_1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前分支dev_1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等价于")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin dev_1:refs/heads/upstream_dev_1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("simple(默认)")])])]),s._v(" "),a("p",[s._v("和"),a("strong",[s._v("upstream")]),s._v("类似, 但是要求上游分支和下游分支的名字必须是一样的, 否则拒绝推送")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("branch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dev_1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  remote "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" origin\n  merge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" refs/heads/dev_1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前分支dev_1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等价于")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin dev_1:refs/heads/dev_1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是upstream处的🌰 则 push fail")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("maching")])])]),s._v(" "),a("p",[s._v("推送所有本地和远端都存在的同名分支")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch -a\nmaster\ndev_1\ndev_2\nremotes/origin/master\nremotes/origin/dev_1\nremotes/origin/dev_3\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只会推送dev_1和master, 交集")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"一些常用的options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一些常用的options"}},[s._v("#")]),s._v(" 一些常用的options")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("--all")])])]),s._v(" "),a("p",[s._v("推送所有本地的分支, 采用"),a("strong",[s._v("current")]),s._v("行为推送分支")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("--force|-f")])])]),s._v(" "),a("p",[s._v("强制推送, 远端提交历史不能"),a("code",[s._v("Fast Forward")]),s._v("本地历史时使用")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("--delete|-d")])])]),s._v(" "),a("p",[s._v("删除远端分支")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -d origin dev\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin :dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("-set-upstream|-u")])])]),s._v(" "),a("p",[s._v("建立分支的上下游关系")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin master\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下次可以直接")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);