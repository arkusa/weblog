<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Parse Document | askura</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="askura's weblog">
    <link rel="preload" href="/weblog/assets/css/0.styles.bd84e9de.css" as="style"><link rel="preload" href="/weblog/assets/js/app.73afb69f.js" as="script"><link rel="preload" href="/weblog/assets/js/2.b1d48028.js" as="script"><link rel="preload" href="/weblog/assets/js/13.d254d810.js" as="script"><link rel="prefetch" href="/weblog/assets/js/10.5e5257d2.js"><link rel="prefetch" href="/weblog/assets/js/11.ac268403.js"><link rel="prefetch" href="/weblog/assets/js/12.1aa44b2f.js"><link rel="prefetch" href="/weblog/assets/js/14.99e6dc6d.js"><link rel="prefetch" href="/weblog/assets/js/15.b4307193.js"><link rel="prefetch" href="/weblog/assets/js/16.889db329.js"><link rel="prefetch" href="/weblog/assets/js/17.f907b394.js"><link rel="prefetch" href="/weblog/assets/js/18.eea8f088.js"><link rel="prefetch" href="/weblog/assets/js/19.84c994ab.js"><link rel="prefetch" href="/weblog/assets/js/20.91a0790a.js"><link rel="prefetch" href="/weblog/assets/js/21.f225089f.js"><link rel="prefetch" href="/weblog/assets/js/22.4271b9d7.js"><link rel="prefetch" href="/weblog/assets/js/23.29f5f4b4.js"><link rel="prefetch" href="/weblog/assets/js/24.12b1d527.js"><link rel="prefetch" href="/weblog/assets/js/25.e84d37ad.js"><link rel="prefetch" href="/weblog/assets/js/26.b50519d9.js"><link rel="prefetch" href="/weblog/assets/js/27.15235234.js"><link rel="prefetch" href="/weblog/assets/js/28.8a9df4eb.js"><link rel="prefetch" href="/weblog/assets/js/29.9b595a2b.js"><link rel="prefetch" href="/weblog/assets/js/3.94d94b8f.js"><link rel="prefetch" href="/weblog/assets/js/30.cf77db1b.js"><link rel="prefetch" href="/weblog/assets/js/31.27e718fb.js"><link rel="prefetch" href="/weblog/assets/js/32.a51ac16d.js"><link rel="prefetch" href="/weblog/assets/js/33.e2fb7862.js"><link rel="prefetch" href="/weblog/assets/js/34.4f32cadf.js"><link rel="prefetch" href="/weblog/assets/js/4.a24ff65c.js"><link rel="prefetch" href="/weblog/assets/js/5.a6ef23be.js"><link rel="prefetch" href="/weblog/assets/js/6.c64d5164.js"><link rel="prefetch" href="/weblog/assets/js/7.05e16fa0.js"><link rel="prefetch" href="/weblog/assets/js/8.f29158ab.js"><link rel="prefetch" href="/weblog/assets/js/9.7ebc8f6b.js">
    <link rel="stylesheet" href="/weblog/assets/css/0.styles.bd84e9de.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/weblog/" class="home-link router-link-active"><!----> <span class="site-name">askura</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç½‘ç»œ" class="dropdown-title"><span class="title">ç½‘ç»œ</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç½‘ç»œ" class="mobile-dropdown-title"><span class="title">ç½‘ç»œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          HTTP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/net/http/cookie.html" class="nav-link">
  COOKIE
</a></li></ul></li><li class="dropdown-item"><h4>
          webå®‰å…¨
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/safety/web/csrf.html" class="nav-link">
  CSRF
</a></li><li class="dropdown-subitem"><a href="/weblog/safety/web/xss.html" class="nav-link">
  XSS
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GIT" class="dropdown-title"><span class="title">GIT</span> <span class="arrow down"></span></button> <button type="button" aria-label="GIT" class="mobile-dropdown-title"><span class="title">GIT</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          è¿œç¨‹ä»“åº“
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/git/remotes/clone.html" class="nav-link">
  clone
</a></li><li class="dropdown-subitem"><a href="/weblog/git/remotes/fetch.html" class="nav-link">
  fetch
</a></li><li class="dropdown-subitem"><a href="/weblog/git/remotes/pull.html" class="nav-link">
  pull
</a></li><li class="dropdown-subitem"><a href="/weblog/git/remotes/push.html" class="nav-link">
  push
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/weblog/git/branch.html" class="nav-link">
  branch
</a></li><li class="dropdown-item"><!----> <a href="/weblog/git/checkout.html" class="nav-link">
  checkout
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS" class="dropdown-title"><span class="title">CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS" class="mobile-dropdown-title"><span class="title">CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Layout
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/css/layout/holy_grail.html" class="nav-link">
  åœ£æ¯å¸ƒå±€æ­ç§˜
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/weblog/css/contain_block.html" class="nav-link">
  åŒ…å«å—(positionå®šä½)
</a></li><li class="dropdown-item"><!----> <a href="/weblog/css/stacking_context.html" class="nav-link">
  Stacking Context
</a></li><li class="dropdown-item"><!----> <a href="/weblog/css/box_model.html" class="nav-link">
  Box Model
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="VIM" class="dropdown-title"><span class="title">VIM</span> <span class="arrow down"></span></button> <button type="button" aria-label="VIM" class="mobile-dropdown-title"><span class="title">VIM</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          æ’ä»¶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/vim/plugins/airline.html" class="nav-link">
  airline
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TMUX" class="dropdown-title"><span class="title">TMUX</span> <span class="arrow down"></span></button> <button type="button" aria-label="TMUX" class="mobile-dropdown-title"><span class="title">TMUX</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/tmux/theme.html" class="nav-link">
  theme
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="REDUX" class="dropdown-title"><span class="title">REDUX</span> <span class="arrow down"></span></button> <button type="button" aria-label="REDUX" class="mobile-dropdown-title"><span class="title">REDUX</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/redux/struct.html" class="nav-link">
  æˆ‘ç†è§£çš„redux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Browser" class="dropdown-title"><span class="title">Browser</span> <span class="arrow down"></span></button> <button type="button" aria-label="Browser" class="mobile-dropdown-title"><span class="title">Browser</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Net
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/browser/net/cross_domain.html" class="nav-link">
  Cross Domain
</a></li><li class="dropdown-subitem"><a href="/weblog/browser/net/jsonp.html" class="nav-link">
  JSONP
</a></li><li class="dropdown-subitem"><a href="/weblog/browser/net/iframe_cross.html" class="nav-link">
  IFrame Cross
</a></li></ul></li><li class="dropdown-item"><h4>
          Render
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/browser/render/parse_document.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Parse Document
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/weblog/browser/processing_model.html" class="nav-link">
  Processing Model
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ES6
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/javascript/ES6/Promise/api.html" class="nav-link">
  Promise API
</a></li><li class="dropdown-subitem"><a href="/weblog/javascript/ES6/Promise/polyfill.html" class="nav-link">
  Promise Polyfill
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/weblog/javascript/regExp.html" class="nav-link">
  RegExp
</a></li><li class="dropdown-item"><!----> <a href="/weblog/javascript/function.html" class="nav-link">
  å‡½æ•°
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å·¥ç¨‹åŒ–" class="dropdown-title"><span class="title">å‰ç«¯å·¥ç¨‹åŒ–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å·¥ç¨‹åŒ–" class="mobile-dropdown-title"><span class="title">å‰ç«¯å·¥ç¨‹åŒ–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/engineering/tree_shaking.html" class="nav-link">
  Tree Shaking
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®¾è®¡æ¨¡å¼" class="dropdown-title"><span class="title">è®¾è®¡æ¨¡å¼</span> <span class="arrow down"></span></button> <button type="button" aria-label="è®¾è®¡æ¨¡å¼" class="mobile-dropdown-title"><span class="title">è®¾è®¡æ¨¡å¼</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          OOP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/design_pattern/oop/decorator.html" class="nav-link">
  Decorator Pattern
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿" class="dropdown-title"><span class="title">ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿" class="mobile-dropdown-title"><span class="title">ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/interesting/git_credential.html" class="nav-link">
  è®¨åŒçš„credential.helper=osxkeychain
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/vue/preface.html" class="nav-link">
  å¯¹Vueçš„è®¤çŸ¥
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Threejs" class="dropdown-title"><span class="title">Threejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Threejs" class="mobile-dropdown-title"><span class="title">Threejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/threejs/struct.html" class="nav-link">
  åˆè¯†webgl
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç½‘ç»œ" class="dropdown-title"><span class="title">ç½‘ç»œ</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç½‘ç»œ" class="mobile-dropdown-title"><span class="title">ç½‘ç»œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          HTTP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/net/http/cookie.html" class="nav-link">
  COOKIE
</a></li></ul></li><li class="dropdown-item"><h4>
          webå®‰å…¨
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/safety/web/csrf.html" class="nav-link">
  CSRF
</a></li><li class="dropdown-subitem"><a href="/weblog/safety/web/xss.html" class="nav-link">
  XSS
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GIT" class="dropdown-title"><span class="title">GIT</span> <span class="arrow down"></span></button> <button type="button" aria-label="GIT" class="mobile-dropdown-title"><span class="title">GIT</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          è¿œç¨‹ä»“åº“
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/git/remotes/clone.html" class="nav-link">
  clone
</a></li><li class="dropdown-subitem"><a href="/weblog/git/remotes/fetch.html" class="nav-link">
  fetch
</a></li><li class="dropdown-subitem"><a href="/weblog/git/remotes/pull.html" class="nav-link">
  pull
</a></li><li class="dropdown-subitem"><a href="/weblog/git/remotes/push.html" class="nav-link">
  push
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/weblog/git/branch.html" class="nav-link">
  branch
</a></li><li class="dropdown-item"><!----> <a href="/weblog/git/checkout.html" class="nav-link">
  checkout
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CSS" class="dropdown-title"><span class="title">CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="CSS" class="mobile-dropdown-title"><span class="title">CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Layout
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/css/layout/holy_grail.html" class="nav-link">
  åœ£æ¯å¸ƒå±€æ­ç§˜
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/weblog/css/contain_block.html" class="nav-link">
  åŒ…å«å—(positionå®šä½)
</a></li><li class="dropdown-item"><!----> <a href="/weblog/css/stacking_context.html" class="nav-link">
  Stacking Context
</a></li><li class="dropdown-item"><!----> <a href="/weblog/css/box_model.html" class="nav-link">
  Box Model
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="VIM" class="dropdown-title"><span class="title">VIM</span> <span class="arrow down"></span></button> <button type="button" aria-label="VIM" class="mobile-dropdown-title"><span class="title">VIM</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          æ’ä»¶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/vim/plugins/airline.html" class="nav-link">
  airline
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TMUX" class="dropdown-title"><span class="title">TMUX</span> <span class="arrow down"></span></button> <button type="button" aria-label="TMUX" class="mobile-dropdown-title"><span class="title">TMUX</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/tmux/theme.html" class="nav-link">
  theme
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="REDUX" class="dropdown-title"><span class="title">REDUX</span> <span class="arrow down"></span></button> <button type="button" aria-label="REDUX" class="mobile-dropdown-title"><span class="title">REDUX</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/redux/struct.html" class="nav-link">
  æˆ‘ç†è§£çš„redux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Browser" class="dropdown-title"><span class="title">Browser</span> <span class="arrow down"></span></button> <button type="button" aria-label="Browser" class="mobile-dropdown-title"><span class="title">Browser</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Net
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/browser/net/cross_domain.html" class="nav-link">
  Cross Domain
</a></li><li class="dropdown-subitem"><a href="/weblog/browser/net/jsonp.html" class="nav-link">
  JSONP
</a></li><li class="dropdown-subitem"><a href="/weblog/browser/net/iframe_cross.html" class="nav-link">
  IFrame Cross
</a></li></ul></li><li class="dropdown-item"><h4>
          Render
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/browser/render/parse_document.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Parse Document
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/weblog/browser/processing_model.html" class="nav-link">
  Processing Model
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ES6
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/javascript/ES6/Promise/api.html" class="nav-link">
  Promise API
</a></li><li class="dropdown-subitem"><a href="/weblog/javascript/ES6/Promise/polyfill.html" class="nav-link">
  Promise Polyfill
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/weblog/javascript/regExp.html" class="nav-link">
  RegExp
</a></li><li class="dropdown-item"><!----> <a href="/weblog/javascript/function.html" class="nav-link">
  å‡½æ•°
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å·¥ç¨‹åŒ–" class="dropdown-title"><span class="title">å‰ç«¯å·¥ç¨‹åŒ–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å·¥ç¨‹åŒ–" class="mobile-dropdown-title"><span class="title">å‰ç«¯å·¥ç¨‹åŒ–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/engineering/tree_shaking.html" class="nav-link">
  Tree Shaking
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®¾è®¡æ¨¡å¼" class="dropdown-title"><span class="title">è®¾è®¡æ¨¡å¼</span> <span class="arrow down"></span></button> <button type="button" aria-label="è®¾è®¡æ¨¡å¼" class="mobile-dropdown-title"><span class="title">è®¾è®¡æ¨¡å¼</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          OOP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/weblog/design_pattern/oop/decorator.html" class="nav-link">
  Decorator Pattern
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿" class="dropdown-title"><span class="title">ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿" class="mobile-dropdown-title"><span class="title">ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/interesting/git_credential.html" class="nav-link">
  è®¨åŒçš„credential.helper=osxkeychain
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/vue/preface.html" class="nav-link">
  å¯¹Vueçš„è®¤çŸ¥
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Threejs" class="dropdown-title"><span class="title">Threejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Threejs" class="mobile-dropdown-title"><span class="title">Threejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/weblog/threejs/struct.html" class="nav-link">
  åˆè¯†webgl
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Parse Document</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/weblog/browser/render/parse_document.html#timeline" class="sidebar-link">Timeline</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/weblog/browser/render/parse_document.html#å¹¶å‘åŠ è½½èµ„æº" class="sidebar-link">å¹¶å‘åŠ è½½èµ„æº</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/weblog/browser/render/parse_document.html#http-1-1" class="sidebar-link">HTTP/1.1</a></li><li class="sidebar-sub-header"><a href="/weblog/browser/render/parse_document.html#http2" class="sidebar-link">HTTP2</a></li><li class="sidebar-sub-header"><a href="/weblog/browser/render/parse_document.html#more" class="sidebar-link">More</a></li></ul></li><li><a href="/weblog/browser/render/parse_document.html#todo" class="sidebar-link">Todo</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/weblog/browser/render/parse_document.html#_2ç§ä¸åŒçš„è§£ææ–¹å¼" class="sidebar-link">2ç§ä¸åŒçš„è§£ææ–¹å¼</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="parse-document"><a href="#parse-document" class="header-anchor">#</a> Parse Document</h1> <hr> <p><code>@time 2020/10/12</code></p> <p><code>@env</code></p> <table><thead><tr><th>browser</th> <th>version</th></tr></thead> <tbody><tr><td>chrome</td> <td>v85.0.4183.121</td></tr> <tr><td>safari</td> <td>v14610.1.28.1.9</td></tr> <tr><td>firefox</td> <td>v81.0.1</td></tr></tbody></table> <hr> <p>æœ¬æ–‡ä¸»è¦ä»‹ç»æµè§ˆå™¨æ˜¯å¦‚ä½•è§£ææ–‡æ¡£çš„(<code>DOMTree</code>, <code>CSSTree</code>, <code>RenderTree</code>)</p> <p>æœ¬æ–‡ä»å®è·µå‡ºå‘ (éæµè§ˆå™¨UIå¼•æ“çš„åŸç†(<code>RenderLayout</code>), å¦‚æœå¯¹å…¶æ„Ÿå…´è¶£å¯ä»¥ğŸ‘€ã€ŠwebkitæŠ€æœ¯å†…å¹•ã€‹), æœŸæœ›ç”¨é€»è¾‘è§£é‡Šæµè§ˆå™¨ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåš</p> <h2 id="timeline"><a href="#timeline" class="header-anchor">#</a> Timeline</h2> <ol><li>TCPå°†æ’åºå¥½çš„å­—èŠ‚æµæ•°æ®åŒ…è½¬æ¢æˆå­—ç¬¦æµè¾“å…¥æµè§ˆå™¨(æµ)</li> <li>åˆå§‹åŒ–<code>document</code>, æ­¤æ—¶<code>document.readyState === 'loading'</code></li> <li>è§£æå­—ç¬¦æµæ•°æ®, ä¾æ®<code>&lt;&gt;</code>ç”Ÿæˆ<code>Token</code>èŠ‚ç‚¹</li> <li>æ ¹æ®<code>Token</code>èŠ‚ç‚¹, é€æ¸ç”Ÿæˆ<strong>DOMTree</strong></li> <li>æŸäº›å¼•å…¥å¤–éƒ¨èµ„æºçš„<code>Token</code>, åˆ›å»ºå…¶ä»–çº¿ç¨‹åŠ è½½èµ„æº(ä¸uiçº¿ç¨‹å¼‚æ­¥)</li> <li>æŸäº›ç‰¹æ®Šçš„<code>Token</code>ä¼šå½±å“uiçº¿ç¨‹
<ul><li><code>&lt;link&gt;</code>, å¼€å§‹æ„å»º<strong>CSSTree</strong>, ç»§ç»­è§£æ<code>document</code>å®Œå–„<strong>DOMTree</strong>, é˜»å¡é¡µé¢<strong>render</strong></li> <li><code>&lt;script&gt;</code>, åœæ­¢è§£æ<code>document</code>çš„è§£æå’Œ<strong>DOMTree</strong>çš„æ„å»º, é˜»å¡é¡µé¢<strong>render</strong>, å¾…<code>javascript</code>åŠ è½½å¹¶ä¸”æ‰§è¡Œå®Œåç»§ç»­è§£æ<code>document</code>, æ„å»º<strong>DOMTree</strong></li> <li><code>&lt;script defer&gt;</code>æˆ–<code>&lt;script async&gt;</code>, å³ä¸é˜»å¡è§£æ<code>document</code>è§£æ, ä¹Ÿä¸é˜»å¡é¡µé¢<strong>render</strong>, å¼‚æ­¥åŠ è½½<code>javascript</code></li></ul></li> <li><code>document</code>è§£æå®Œæˆ, æ­¤æ—¶<code>document.readyState === 'interactive'</code></li> <li>å¦‚æœå­˜åœ¨<code>&lt;script defer&gt;</code>å¾…å…¶æ‰§è¡Œå®Œæ¯•åè§¦å‘<code>DOMContentLoaded</code>äº‹ä»¶, æ­¤æ—¶è¿›å…¥äº‹ä»¶é©±åŠ¨é˜¶æ®µ, å¯ä»¥å“åº”ç”¨æˆ·æ“ä½œ</li> <li>å½“æ‰€æœ‰å¤–éƒ¨èµ„æºåŠ è½½å®Œæˆå(<code>&lt;img&gt;</code>, <code>&lt;script async&gt;</code>, <code>&lt;video&gt;</code>...)è§¦å‘<code>window.onload</code>, æ­¤æ—¶<code>document.readyState === 'complete'</code></li> <li><strong>parse document</strong>å®Œæˆ</li></ol> <h2 id="å¹¶å‘åŠ è½½èµ„æº"><a href="#å¹¶å‘åŠ è½½èµ„æº" class="header-anchor">#</a> å¹¶å‘åŠ è½½èµ„æº</h2> <p>æµè§ˆå™¨åœ¨åŠ è½½èµ„æºçš„æ—¶å€™é‡‡ç”¨çš„æ˜¯å¹¶å‘ç­–ç•¥, ä½†æ˜¯å…¶åœ¨<strong>åŸŸå</strong>ç»´åº¦é™åˆ¶äº†å¹¶å‘åº¦</p> <p>ä»¥<strong>Chrome</strong>ä¸ºğŸŒ°, å¯¹åŒä¸€ä¸ªåŸŸåçš„å¹¶å‘åº¦ä¸º6, å³: åŒä¸€ä¸ªåŸŸåæœ€å¤šå­˜åœ¨6ä¸ªTCPé“¾æ¥</p> <p><img src="/imgs/parse_document/http1.1_tcp.png" alt="http1.1 tcp"></p> <h3 id="http-1-1"><a href="#http-1-1" class="header-anchor">#</a> HTTP/1.1</h3> <p>æ‰€ä»¥åœ¨<strong>HTTP/1.1</strong>åè®®ä¸‹, æˆ‘ä»¬éœ€è¦åš<strong>åŸŸååˆ‡ç‰‡</strong>: å¯¹äºä¸€äº›åƒå›¾ç‰‡ç­‰çš„èµ„æºä½¿ç”¨å¦å¤–çš„åŸŸå, é˜²æ­¢ç”±äºå¹¶å‘åº¦çš„é™åˆ¶, å»¶è¿Ÿäº†å¤–éƒ¨<strong>javascript</strong>è„šæœ¬çš„åŠ è½½, é¡µé¢æ‰“å¼€å˜æ…¢</p> <hr> <p>è™½ç„¶<strong>HTTP/1.1</strong>åè®®æå‡ºäº†<code>keep-alive</code>(å¤šä¸ªHTTPå¤ç”¨ä¸€ä¸ªTCP), ä½†æ˜¯å…¶ä¸å…è®¸åŒæ—¶å‘é€å¤šä¸ªHTTPè¯·æ±‚</p> <p>å³: å¦‚æœå½“å‰TCPå¥—æ¥å­—æ­£åœ¨ä¼ è¾“æˆ–æ¥å—æ•°æ®æ—¶, ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„TCPå¥—æ¥å­—, åªæœ‰å½“å‰TCPå¥—æ¥å­—ç©ºé—²æ—¶æ‰èƒ½å‘é€æ–°çš„HTTP, å¯ä»¥ç†è§£ä¸ºå•ä¸ªTCPå¥—æ¥å­—æ˜¯ä¸²è¡Œçš„</p> <p>è¿™æ˜¯ç”±äºHTTPæŠ¥æ–‡ä¾èµ–TCPæ•°æ®åŒ…çš„é¡ºåºç»„è£…</p> <hr> <p>è™½ç„¶HTTP1.1æœ‰æå‡º<code>pipelining</code>æ”¹å˜, ä½†æ˜¯å®ƒå¹¶æ²¡æœ‰å¾ˆå¥½çš„è¢«æ”¯æŒ</p> <h3 id="http2"><a href="#http2" class="header-anchor">#</a> HTTP2</h3> <p>å¦‚æœä½ çš„æœåŠ¡æ”¯æŒäº†<strong>HTTP2</strong>, å¯¹äº<strong>HTTP2</strong>çš„è¯·æ±‚æˆ‘ä»¬å°±ä¸éœ€è¦åš<strong>åŸŸååˆ†ç‰‡</strong>, è¿™æ˜¯ç”±äºå…¶<strong>å¤šè·¯å¤ç”¨</strong>æœºåˆ¶å¯¼è‡´çš„, åœ¨åº”ç”¨å±‚å¯¹å¤šä¸ª<strong>stream</strong>å¤šäº†æ ‡è¯†</p> <p><img src="/imgs/parse_document/http2_tcp.png" alt="http2 tcp"></p> <p>å¯ä»¥çœ‹åˆ°è¿™9ä¸ªè¯·æ±‚åŒæ—¶å¹¶å‘</p> <h3 id="more"><a href="#more" class="header-anchor">#</a> More</h3> <p>åœ¨<strong>HTTP/1.1</strong>ä¸‹å› ä¸ºå¯¹åŒä¸€ä¸ªåŸŸåçš„è¯·æ±‚æ˜¯é‡‡ç”¨å¤šä¸ªTCPå¹¶å‘çš„, æ‰€ä»¥ä½ æ— æ³•ç¡®å®šä½ æ”¶åˆ°çš„å“åº”é¡ºåºæ˜¯å¦å’Œå‘å‡ºè¯·æ±‚çš„é¡ºåºæ˜¯ä¸€è‡´çš„(å¯èƒ½æ˜¯æœåŠ¡ç«¯å“åº”é¡ºåºä¹±åºæˆ–è€…æ”¶åˆ°å“åº”çš„é¡ºåºä¹±åº)</p> <p><strong>HTTP2</strong>ä¹Ÿå­˜åœ¨è¿™ä¸ªé—®é¢˜, ä½†æ˜¯å…¶å¹¶ä¸æ˜¯ç”±äºå¤šä¸ªå¹¶å‘TCPå¯¼è‡´çš„, è€Œæ˜¯åœ¨HTTP2åè®®ä¸Šä¸Šå¹¶å‘çš„streamæµå¯¼è‡´çš„</p> <p>ğŸŒ°:</p> <p>æ¯”å¦‚ä¸€äº›è´­ç‰©æ“ä½œ, æœ‰çš„æ—¶å€™ä½ ä¼šå‘ç°ä½ æ˜æ˜ç‚¹äº†6ä¸‹, ä½†æ˜¯å´æ˜¾ç¤ºä½ ä¹°äº†5ä¸ª, ç”šè‡³èƒ½ğŸ‘€ ä»6-5çš„è¿‡æ¸¡, è¿™å¾ˆå¤§å¯èƒ½æ˜¯å› ä¸ºå¤šä¸ªTCPé“¾æ¥å¯¼è‡´çš„</p> <p>è¿™æ—¶å€™å°±éœ€è¦<strong>é¡ºåºæ‰§è¡Œå¼‚æ­¥æ“ä½œ</strong></p> <div class="custom-block warning"><p class="custom-block-title">æ³¨æ„</p> <p>HTTPSå¹¶ä¸ä»£è¡¨ç€æ˜¯HTTP2</p></div> <hr> <p>ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜, ä½ å¯èƒ½éœ€è¦è¿™æ ·çš„å®ç°</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// è¿™é‡Œåªæ˜¯ä¸€ä¸ªæ€è·¯ï¼Œå¦‚æœè¦åº”ç”¨åˆ°å®é™…çš„é¡¹ç›®ä¸­è¿˜éœ€è¦åŠ ä»¥å®Œå–„</span>
<span class="token keyword">class</span> <span class="token class-name">RequestQueue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>argvs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>chain <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handler</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ret <span class="token punctuation">}</span> <span class="token operator">=</span> request<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>chain <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>chain
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ret<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> queue<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevRet<span class="token punctuation">,</span> current</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">current</span><span class="token punctuation">(</span>prevRet<span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä¸ºäº†ä¿è¯ä¸æ›´æ”¹è¯·æ±‚API, è¿™é‡Œéœ€è¦åšPromise APIçš„ç²˜åˆå‰‚</span>
<span class="token keyword">class</span> <span class="token class-name">RequestRet</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>ret <span class="token operator">=</span> ret<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">requestFactory</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RequestQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>argvs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RequestRet</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token operator">...</span>argvs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// test</span>
<span class="token keyword">function</span> <span class="token function">simulationRequest</span><span class="token punctuation">(</span><span class="token parameter">responseTime<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> resolve<span class="token punctuation">,</span>
    reject<span class="token punctuation">;</span>

  <span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> rej</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    resolve <span class="token operator">=</span> res<span class="token punctuation">;</span>
    reject <span class="token operator">=</span> rej<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">,</span> responseTime<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> clickRequest <span class="token operator">=</span> <span class="token function">requestFactory</span><span class="token punctuation">(</span>simulationRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ¨¡æ‹Ÿå¤šæ¬¡è¯·æ±‚</span>
<span class="token function">clickRequest</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">clickRequest</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">clickRequest</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">clickRequest</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3så - 3, 100</span>
<span class="token comment">// 4så - 4, 2, 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div><p>å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªdemo, <a href="https://github.com/arkusa/demo/tree/main/http_response_disorder" target="_blank" rel="noopener noreferrer">http_response_disorder<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="todo"><a href="#todo" class="header-anchor">#</a> Todo</h2> <h3 id="_2ç§ä¸åŒçš„è§£ææ–¹å¼"><a href="#_2ç§ä¸åŒçš„è§£ææ–¹å¼" class="header-anchor">#</a> 2ç§ä¸åŒçš„è§£ææ–¹å¼</h3> <p>æµè§ˆå™¨é‡‡ç”¨2ç§ç­–ç•¥å¯¹æ–‡æ¡£è§£æ</p> <ul><li><p><code>init document</code></p></li> <li><p><code>innerHTML</code></p></li></ul> <p>ç›®å‰å¯¹<code>innerHTML</code>çš„è§£ææ–¹å¼ä¸å¤Ÿäº†è§£, ä¸è¿‡èƒ½å¤Ÿç¡®å®šçš„æ˜¯</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'&lt;script src=&quot;a.js&quot;&gt;&lt;/script&gt;'</span>

<span class="token comment">// ä¸ä¼šåŠ è½½a.js</span>
<span class="token comment">// è¿™æ˜¯å½“ç„¶çš„</span>
<span class="token comment">// å› ä¸ºå¯èƒ½éœ€è¦diff old(document.body.innerHTML)å’Œnew(document.body.innerHTML)</span>
<span class="token comment">// æ¥åˆ¤æ–­é‚£äº›æ˜¯éœ€è¦è¢«æ‰§è¡Œçš„è„šæœ¬</span>
<span class="token comment">// å¦åˆ™å¯èƒ½å¯¼è‡´å·²ç»æ‰§è¡Œå®Œçš„è„šæœ¬é‡æ–°æ‰§è¡Œ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ç›®å‰åªäº†è§£åˆ°è¿™ç‚¹åŒºåˆ«</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/arkusa/askura/edit/master/docs/browser/render/parse_document.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘æ­¤é¡µé¢</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/19/2020, 9:48:36 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/weblog/assets/js/app.73afb69f.js" defer></script><script src="/weblog/assets/js/2.b1d48028.js" defer></script><script src="/weblog/assets/js/13.d254d810.js" defer></script>
  </body>
</html>
